<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <script type="text/x-mathjax-config">
        /* Fix org-generated pictures to MathJX. Big thanks to Davide Cervone
          on StackOverflow with this. http://stackoverflow.com/a/14631703/308668
          */
        MathJax.Extension.myImg2jax = {
            version: "1.0",
            PreProcess: function (element) {
                var images = element.getElementsByTagName("img");
                for (var i = images.length - 1; i >= 0; i--) {
                    var img = images[i];
                    if (img.className === "dvipng") {
                        var script = document.createElement("script");
                        script.type = "math/tex";
                        var match = img.alt.match(/^(\$\$?)(.*)\1/);
                        if (match[1] === "$$") {script.type += ";mode=display"}
                        MathJax.HTML.setScript(script,match[2]);
                        img.parentNode.replaceChild(script,img);
                    }
                }
            }
        };
        MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.myImg2jax]);
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript">
    </script>
    <link href="/templates/main.css" media="screen" type="text/css" rel="stylesheet" />
  
  <title>Canto on uusi RSS-lukijani — Foobarly adventures</title>
  <link />
</head>
  <body>
    <div id="header">
      <h1 id="site-title">Foobarly adventures</h1>
    </div>
    <div id="sidebar">
  <ul id="navigation" class="navi-list">
    <li><a href="/">Ylös</a></li>
    <li><a href="/all.html">Kaikki jutut</a></li>
    <!-- <li><a href=".">RSS</a></li> -->
  </ul>
  <ul class="info-list">
    <li>
      <div>
        <span class="value" id="post-created">29.03.2013</span>
        <span class="key">Luotu</span>
      </div>
    </li>
    <li>
      <div>
        <span class="value" id="post-modified">08.12.2013</span>
        <span class="key">Päivitetty</span>
      </div>
    </li>
  </ul>
  <ul id="tags" class="tag-list"><li class="tag-1"><a href="/tags/python.html" class="tag-name">python</a></li><li class="tag-0"><a href="/tags/softa.html" class="tag-name">softa</a></li></ul>
</div>
    <div id="main">
  <div id="content">

<div class="outline-2" id="outline-container-sec-1">
<h2 id="sec-1">Canto on uusi RSS-lukijani   </h2>
<div id="text-1" class="outline-text-2">

<p>
Kun Google hieman odottamatta ilmoitti vetävänsä Readerin pois
valikoimastaan, alkoi verkkainen etsintä uudelle RSS-aggregaatille.
Vaikka Reader on käytettävyydeltään ihan kohtuullinen, oli
pääasiallisena tavoitteena saada jonkinlainen ncurses-ratkaisu
kuntoon säädettävyyden ja etäkäytön takia. (<b>Huomio:</b> tämä juttu ja
konffausvinkit koskevat vain vanhentunutta Canto 0.7.10 -versiota.
Suosittelen kokeilemaan <a href="http://codezen.org/canto-ng/">uudempaa 0.8-sarjaa</a> omiin kokeiluihinne.)
</p>

<p>
<a href="http://www.newsbeuter.org/">Newsbeuter</a> oli ensimmäisenä pinnalla ilmoittaen olevansa
RSS-lukijoiden "mutt". Asiahan kuulostaa hyvältä, mutta mutt ei ole
koskaan ollutkaan kovin mieleinen ainakaan omaan makuuni. Siitä
puuttuu olennainen säätövara ja lisäksi on kovin hidas.
</p>

<p>
Tämän jälkeen taas pientä hiljaiseloa vietettyäni jaksoin
googlailla hyvän <a href="http://tinyapps.org/blog/nix/200708170700_command_line_feed_readers.html">listan</a> sopivia ehdokkaita komentoriville ja
terminaalikäyttöön löytyviä RSS-lukijoita. Listahan on ikivanha,
mutta näissä softissa ei yleensä ole montaa liikkuvaa osaa ja
RSS-parserointikin on ulkoistettu. Canto osui silmään
kuvaruutukaappausten perusteella hyvänä ehdokkaana, ja asentamisen
jälkeen tämä vaikutelma vahvistui entisestään.
</p>
</div>

<div class="outline-3" id="outline-container-sec-1-1">
<h3 id="sec-1-1">Puhdasta Pythonia</h3>
<div id="text-1-1" class="outline-text-3">
<p>
<a href="http://codezen.org/canto/">Canto</a> konfiguroidaan monien muiden kovien ohjelmien tapaan
kunnollisella ohjelmointikielellä ja konfiguraatiossa saakin nyt
kirjoittaa kovaa Pythonia mielinmäärin. Ohjelma tukee täysin
muokattavia näppäimiä. Värejäkin saa säädellä. Sisäänrakennettu
lukija on kohtuullinen, vaikka itse keskitynkin ampumaan selaimeen
niitä osoitteita. Esimerkiksi näin säädetään näppäimiä ja värejä
asetuksissa:
</p>

<div class="org-src-container">

<pre class="src src-python">never_discard(<span class="code-string">"unread"</span>)
link_handler(<span class="code-string">"firefox \"%u\""</span>)

<span class="code-variable-name">keys</span>[<span class="code-string">'C-h'</span>] = <span class="code-string">"help"</span>
<span class="code-variable-name">keys</span>[<span class="code-string">'h'</span>] = <span class="code-string">"prev_tag"</span>
<span class="code-variable-name">keys</span>[<span class="code-string">'\n'</span>] = <span class="code-string">"goto"</span>

<span class="code-variable-name">colors</span>[0] = 15 <span class="code-comment-delimiter"># </span><span class="code-comment">default</span>
<span class="code-variable-name">colors</span>[1] = 214 <span class="code-comment-delimiter"># </span><span class="code-comment">unread</span>
<span class="code-variable-name">colors</span>[2] = 138 <span class="code-comment-delimiter"># </span><span class="code-comment">read</span>
</pre>
</div>

<p>
Canto tarjoaa pari moduulia, jotka voi importata mukaan ja
kirjoittaa vaikka funktioita uusiksi. Tarjolla on esimerkiksi
näppäinsarjoja, jotka kirjoitetaan tavallisina python-listoina
konffiin.
</p>
</div>
</div>


<div class="outline-3" id="outline-container-sec-1-2">
<h3 id="sec-1-2">Feedit konffissa</h3>
<div id="text-1-2" class="outline-text-3">
<p>
Feedit lisätään erityisen <code>add()</code>-kutsun avulla, ja halutut tagit
ja lisäasetukset kutsun valinnaisten argumenttien kanssa. Hieman
työlästä, ehkä, mutta kirjoitetaan simppelisti muutama
<code>for</code>-silmukka ja homma alkaa sujua. Canto tarjoaa talon puolesta
OPML- ja tekstitiedostoparsimista.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-3">
<h3 id="sec-1-3">Superjoustava</h3>
<div id="text-1-3" class="outline-text-3">
<p>
Tageilla voi ryhmitellä feedejä samoihin kuosiin, jolloin
esimerkiksi kaikki päivittäiset sarjakuvat saa samasta ryhmästä
noukittua. Kukin feedi voi luonnollisesti kuulua useaan ryhmään.
Ja ryhmiäkin voi tietenkin filtteröidä ja lajitella omiksi
näkymikseen. Oletuksena näkymiä ei ole, vaan kaikki – sekä luetut
että lukemattomat – ovat samassa. Vähintäänkin kannattaa lisätä
<code>canto.extra.show_unread</code> -funktio <code>filters</code>-listalle, jotta voi
keskittyä uusiin artikkeleihin. Konfiguraatiota voi jatkaa
edelleen vieläkin puhtaammalla pythonilla, johon ei ole minulla
ainakaan välitöntä tarvetta.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-4">
<h3 id="sec-1-4">Päivitykset crontabin tai demonin kautta</h3>
<div id="text-1-4" class="outline-text-3">
<p>
Unix-hengen mukaisesti päivitykset voi hoitaa erillisen
<code>canto-fetch</code>-ohjelman avulla. Sen voi huoletta laittaa ajamaan
vaikka minuutin välein, sillä konffissa voi määritellä kullekin
feedille omat intervallit.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-5">
<h3 id="sec-1-5">Tämä on vanha Canto.</h3>
<div id="text-1-5" class="outline-text-3">
<p>
Nyt tätä juttua kirjoittaessani huomasin, että asentamani Canto
0.7.10 on vanhaa sorttia, ja uusi <a href="http://codezen.org/canto-ng/">Canto-ng</a> on syrjäyttänyt vanhan.
Epäilemättä sen konffiminen sujuu samalla tavalla kuin vanhan,
mutta en nyt ihan heti aio siirtyä. Tai ehkäpä siirrynkin. Sitten
palaan muutosten kera tähän juttuun.
</p>
</div>
</div>
</div>
</div>
  <hr />
  <div id="comments"><div id="disqus">
    <div id="disqus_thread"></div>

    <script type="text/javascript">
        var disqus_shortname = 'progim';
        var disqus_identifier = '20130329_1220';

        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] ||
            document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        <a href="http://disqus.com/?ref_noscript">Disqus</a> vaatii JavaScript-tuen
        toimiakseen.
    </noscript> 
    <a class="dsq-brlink" href="http://disqus.com">
        comments powered by <span class="logo-disqus">Disqus</span>
    </a>
</div></div>
</div>
    <div id="footer"></div>
  </body>

</html>