<html><head><meta content="text/html; charset=utf-8" http-equiv="content-type" /><script type="text/x-mathjax-config">/* Fix org-generated pictures to MathJX. Big thanks to Davide Cervone
  on StackOverflow with this. http://stackoverflow.com/a/14631703/308668
  */
MathJax.Extension.myImg2jax = {
    version: "1.0",
    PreProcess: function (element) {
        var images = element.getElementsByTagName("img");
        for (var i = images.length - 1; i >= 0; i--) {
            var img = images[i];
            if (img.className === "dvipng") {
                var script = document.createElement("script");
                script.type = "math/tex";
                var match = img.alt.match(/^(\$\$?)(.*)\1/);
                if (match[1] === "$$") {script.type += ";mode=display"}
                MathJax.HTML.setScript(script,match[2]);
                img.parentNode.replaceChild(script,img);
            }
        }
    }
};
MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.myImg2jax]);
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script><link href="http://fwwm.us/css/main.css" rel="stylesheet" type="text/css" /><title>Java + JavaScript, paras pelialusta? - Life at the Room.</title><link href="http://fwwm.us/css/miete.css" rel="stylesheet" type="text/css" /></head><body><div id="sidebar-left"><div id="post-info"><div id="navi"><span class="title">Navigointi</span><ul id="navi-list"><li class="fp"><a href="http://fwwm.us/">Etusivulle</a></li><li><a href="http://fwwm.us/miete/index.html">Mietteet</a></li><li><a href="..">heinäkuu</a></li><li><a href="../..">2013</a></li></ul></div><span class="title">Info</span><p class="date">Julkaistu<br />12.07.2013 13:27</p></div><div id="post-tags"><span class="title">Tagit</span><ul id="tags-list"><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/pelit/index.html">pelit</a></div></div></li><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/clojure/index.html">clojure</a></div></div></li><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/koodi/index.html">koodi</a></div></div></li></ul></div></div><div id="content"><div class="post-content">
<h1>Java + JavaScript, paras pelialusta?    </h1>
<div id="text-2-14" class="outline-text-3">




<p>
   Nykypäivän web-työkalut tuntuvat johtavan väistämättä tilanteeseen,
   jossa Javascript on riittävän tehokasta moneen tarkoitukseen ja on
   pysyvää: selaimet tukevat jatkossakin. Lisäksi tarjolla on
   kaikenlaista kivaa: on Audio-API:a ja on Websockettia. Peräti
   3D-kiihdyteltyä GL:ää, jos oikein riehaannutaan. Javascript, eikä
   Java sen puoleen, ei ole menossa minnekään, vaan tarjoaisi hyvän
   tavan toimittaa käyttöjärjestelmäriippumattoman pelikokemuksen
   aistikkaasti kaikille ja niin, että peli toimii tulevaisuudessakin.
</p>
<p>
   Jokin Java-moottori, erityisesti Clojure, voisi tarjota todella
   hulppean, läskin palvelinpään ja toteuttaisin käyttöliittymän
   Javascriptinä, <i>thin client</i> -mallin mukaisesti. Tällä tavalla
   valitsen sen kompromissin, että palvelimen oletetaan olevan
   nollalatenssien päässä lokaalina ja vastineeksi saan vähemmän
   JS-purkkaa jauhettavaksi. Thin client tarkoittaisi siis
   oleellisesti sitä, että asiakas, eli selain, kuuntelee korvat
   höröllä web-sokettiamme ja uskollisesti piirtää annetun tavaran
   juuri niihin koordinaatteihin, jotka palvelin antaa. Selain
   vastaavasti lähettää paluuputkessa kaikki käyttäjän toimet
   palvelimelle. Palvelin siis huolehtii esimerkiksi kartan tilasta ja
   pelaajan toimista. Minimoimalla JS-logiikka minimoidaan ketutus.
</p>
<p>
   Tietenkin Clojuren sijaan voi käydä mikä tahansa tehokas ja hyvä
   minimaalisen web-palvelimen toteuttava kieli. Grails, Django taikka
   Ruby on Rails vaikkapa. Ihan mikä sopii itselleen parhaiten.
   Java/JVM on mielestäni hyvä valinta peleille, koska parin sekunnin
   käynnistysajan pystyy sietämään ja pyörähdettyään käyntiin JVM on
   varsin nopea.
</p>
<p>
   Jos taasen monipuolistaisin asiakaskoodia, voisin saada aikaan
   tilanteen, jossa tavalliset 100-millisekuntiset viipeet eivät
   häiritse pelaamista (peliksi ei sitten kannata mitään toiminta-FPS
   -räimintää suunnitella) ja voin ulkoistaa pelipalvelimen vaikka
   Google App Engineen (GAE) tai vastaavaan. Haittapuolena on
   luonnollisesti turhauttava määrä JS-tappelua. Puhumattakaan siitä,
   että kaikki muutokset pelissä heijastuvat enemmän tai vähemmän sekä
   palvelimen että asiakkaan koodissa. Tuskin CoffeeScript tai edes
   ClojureScript ratkaisisi kaikkia ongelmiani.
</p>
<p>
   GAE:n ja vastaavien kanssa tulee myös se ongelma, että he haluavat
   sitoa esimerkiksi tietokantaratkaisut omiin viritelmiinsä:
   onnistuisiko sitten lokaali pelaaminen lainkaan?! Eli
   henkilökohtaisesti lähtisin kehittämään lokaalia peliä, joka tulisi
   käyttäjien ladata ennen pelaamista. Demomielessä voisi tietysti
   laittaa yhden instanssin pyörimään verkkoonkin, mikä ettei.
</p>
<p>
   Seppo Suorsan <a href="https://arena-6.appspot.com/">Areena 6</a> menikin jo "pilveen", mikä on hyvä esimerkki
   tästä mallista. Seppo tuskin koodasi Clojurella, mutta ajatus on jo
   melkein oikein.
</p></div>

</div><div id="disqus_thread"></div>

<script type="text/javascript">
    // :sb__ stuff is replaced in clojure
    var disqus_shortname = 'progim';
    var disqus_identifier = '20130712_1327';

    (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] ||
         document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a
href="http://disqus.com/?ref_noscript">comments powered by
Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by
<span class="logo-disqus">Disqus</span></a>
</div></body></html>