<html><head><meta content="text/html; charset=utf-8" http-equiv="content-type" /><script type="text/x-mathjax-config">/* Fix org-generated pictures to MathJX. Big thanks to Davide Cervone
  on StackOverflow with this. http://stackoverflow.com/a/14631703/308668
  */
MathJax.Extension.myImg2jax = {
    version: "1.0",
    PreProcess: function (element) {
        var images = element.getElementsByTagName("img");
        for (var i = images.length - 1; i >= 0; i--) {
            var img = images[i];
            if (img.className === "dvipng") {
                var script = document.createElement("script");
                script.type = "math/tex";
                var match = img.alt.match(/^(\$\$?)(.*)\1/);
                if (match[1] === "$$") {script.type += ";mode=display"}
                MathJax.HTML.setScript(script,match[2]);
                img.parentNode.replaceChild(script,img);
            }
        }
    }
};
MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.myImg2jax]);
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script><link href="http://fwwm.us/css/main.css" rel="stylesheet" type="text/css" /><title>Python on huonompi kieli kuin Clojure - Life at the Room.</title><link href="http://fwwm.us/css/miete.css" rel="stylesheet" type="text/css" /></head><body><div id="sidebar-left"><div id="post-info"><div id="navi"><span class="title">Navigointi</span><ul id="navi-list"><li class="fp"><a href="http://fwwm.us/">Etusivulle</a></li><li><a href="http://fwwm.us/miete/index.html">Mietteet</a></li><li><a href="..">toukokuu</a></li><li><a href="../..">2013</a></li></ul></div><span class="title">Info</span><p class="date">Julkaistu<br />18.05.2013 20:28</p></div><div id="post-tags"><span class="title">Tagit</span><ul id="tags-list"><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/koodi/index.html">koodi</a></div></div></li><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/python/index.html">python</a></div></div></li><li><div class="taggy"><div class="taggy-inner"><a href="http://fwwm.us/tag/clojure/index.html">clojure</a></div></div></li></ul></div></div><div id="content"><div class="post-content">
<h1>Python on huonompi kieli kuin Clojure    </h1>
<div id="text-2-15" class="outline-text-3">




<p>
   Pakko hieman avautua Pythonin puutteista ja miksi Clojure sitten
   voittaa kädenväännössä lopulta. Nämä asiat ovat osittain
   objektiivisia totuuksia, mutta lopputulema on luonnollisesti
   subjektiivinen, oma näkemykseni näiden faktojen kasaantumisesta.
</p>

</div>

<div class="outline-4" id="outline-container-2-15-1">
<h2>Pythonin dokumentaatio on sekavaa</h2>
<div id="text-2-15-1" class="outline-text-4">


<p>
    Guido ja Python-yhteisö painottaa kovasti hyvää dokumentaatiota,
    ja yhteisö onkin kehitellyt hyviä työkaluja ja käytäntöjä hyvän
    dokumentaation tuottamiseksi.
</p>
<p>
    Mutta loppupeleissä Pythonin omien kirjastojen dokumentit ovat
    aikamoisessa sotkussa. Mistä löytyy se kattava referenssi uuden
    <code>format</code>-metodin muotoilukoodeista? Googlellakin saa hakea
    useasta paikasta, ennen kuin tärppää.
</p>
<p>
    Sittenkin dokumentaation löydyttyä niissä ei ole yleensä
    tarpeeksi esimerkkejä, eikä funktioiden standarditoteutuksiin
    löydy suoria linkkejä, vaikka syytä olisi.
</p>
<p>    
    <a href="http://joepie91.wordpress.com/2013/02/19/the-python-documentation-is-bad-and-you-should-feel-bad/">Tämä joepie91:n</a> kirjoittama rantti avasi silmäni lopullisesti
    asialle: Python on dokumentaationsa tasolla substandardi. Olen
    myös valmis allekirjoittamaan joepien muut pointit Python-yhteisön
    ominaisuuksista. PHP ja Clojure menevät heittämällä ohi parempien
    dokkariensa kanssa, vaikka ehkä vertailu Clojuren kanssa on
    epäreilua: Clojuren "viralliset" dokkarit ovat kehnot, mutta
    google toisaalta osaa tarjoilla uusia <a href="http://clojuredocs.org/">ClojureDocs</a>-tuloksia
    ensimmäisinä tuloksina.
</p>
</div>

</div>

<div class="outline-4" id="outline-container-2-15-2">
<h2>Python on hidasta</h2>
<div id="text-2-15-2" class="outline-text-4">


<p>
    Python käynnistyy nopeasti, mutta siihen se nopeus jääkin.
    Tavukoodia suorittava moottori ei ole erityisesti tunnettu
    hyvästä just in time -optimoinnista.
</p>
<p>
    Toinen puutteellinen seikka on Pythonin virtuaalikoneen
    säieongelma: säikeet pyörivät vain yhden instanssin alla, joka
    rajoittaa säikeiden etuja tietyissä sovelluksissa kovasti.
    Prosesseihinjakaminen on onneksi olemassa, joten tilanne ei ole
    kokonaan hukassa. Säiepyörittely ja jaettu muisti on kuitenkin
    tehokkaampaa ja joskus helpompaa kuin erillisprosessien käyttämät
    viestinvälitysmekanismit.
</p>
<p>
    Clojure JVM-kielenä tykittää dynaamisten kielien benchmarkeissa
    aika korkealla. JPython saattaisi olla ratkaisu näihin
    mainittuihin ongelmiin, kun saataisiin JVM:n kypsynyt
    JIT-optimointi ja ehkäpä säikeetkin saavat rellestää vapaammin.
</p>
</div>

</div>

<div class="outline-4" id="outline-container-2-15-3">
<h2>'Batteries included', or not.</h2>
<div id="text-2-15-3" class="outline-text-4">


<p>
    Pythonin suuri hehkutettu etu on ollut kielen hyvä tuki
    kaikenlaiselle hyvälle.
</p>
<p>
    Ensimmäinen totuus on se, että JVM:llä on isompi valmiskirjasto.
    Clojure perii tämän kaiken.
</p>
<p>
    Ja entäs jos jotain Pythonin valmiskirjastoista puuttuu? Toki,
    ongelman kuin ongelman voi suurella todennäköisyydellä ratkaista
    tehokkaasti ja elegantisti Python-kirjastojen työkaluilla. Sitä en
    epäile. Mutta teoreettisen koulutuksen käyneenä minulla saattaa
    olla hyvä ja elegantti ratkaisumalli jo päässäni, ja silloin olisi
    luultavasti kaikkien etu, jos pääsen käyttämään sitä. Näin kävi,
    kun halusin tarkastella järjestettyjen puiden käyttöä
    ongelmassani. Javassa ja Clojuressa on TreeMap näitä varten;
    Pythonissa pitää koodata oma punamustapuu ja toivoa, että se edes
    etäisesti vastaisi CPython-alkuperäisien tietorakenteiden
    tehokkuutta. Eli Pythonin valmiskirjasto ei ole niin suuri kuin
    Javalla.
</p>
<p>
    Muutenkin Pythonin käyttämien tietorakenteiden ominaisuudet
    tuntuvat kelluvan hieman implementaation varassa: voinko luottaa
    listojen aikavaativuuksiin eri implementaatioiden välillä?
</p>
</div>

</div>

<div class="outline-4" id="outline-container-2-15-4">
<h2>Python 2:n unicode-sotkut</h2>
<div id="text-2-15-4" class="outline-text-4">


<p>
    Python 2 sisältää aivan tolkuttoman surkean unicode-tuen. Javassa
    asia on tehty oikein. Python 3 lopulta korjaa kaikki ongelmat
    fiksulla tavalla, mutta <i>kuka sitä pääsee käyttämään</i> – kaikki
    helvetin hyvät kirjastot toimivat vain kakkosessa.
</p>
</div>

</div>

<div class="outline-4" id="outline-container-2-15-5">
<h2>Pythonin moduulisysteemi on vaarallinen</h2>
<div id="text-2-15-5" class="outline-text-4">


<p>
    Kaikki modernit dynaamiset kielet sisältävät hienot
    "pakettihallinnat", joilla puuttuvat moduulit saadaan asennettua
    kuntoon kertaheitolla ja riippuvuudet huomioiden. Ihan kiva,
    Rubyllä on <code>gem</code> ja Pythonilla <code>pip</code> ja <code>easy_install</code>, mutta
    ovatko ne turvallisia? Näillä systeemeillä pääsee helposti
    asentamaan distron oman pakettihallinnan ohi tavaraa globaalin
    polun alle.
</p>
<p>
    Javassa saattaa olla kamalan verboosinen työkalusetti moduuleihin
    ja paketteihin, mutta se on myös aiheuttanut minulle vähiten
    päänsärkyä kaikista. Clojuren tapauksessa pakettiriippuvuudet ovat
    projektilokaaleja, ja ne hallinnoidaan Javassa tuttujen, hyvin
    kypsyneiden työkalujen avulla kuntoon. Kokonaisuutta voidaan
    sitten tarjoilla yhtenä isona jar-tiedostona, jonka
    suorittamiseen ei tarvitakaan kuin pyörivä JRE. Eikä systeemiin
    koidu tarpeetonta kuonan kertymistä.
</p>
</div>

</div>

<div class="outline-4" id="outline-container-2-15-6">
<h2>Puutteellinen funktionaalisen paradigman tuki</h2>
<div id="text-2-15-6" class="outline-text-4">


<p>
    <a href="http://www.bestinclass.dk/index.clj/2009/10/python-vs-clojure-evolving.html">Lau Jensen</a> on kirjoitellut hyvän introduktion Pythonin ja
    Clojuren eräistä eroista ja funktionaalisuuteen painottuen. Tämä
    "pointti" on hyvin subjektiivista, koska ihmiset kirjoittavat
    isoja ja upeita sovelluksia ilman funktionaalisuuttakin.
</p>
<p>
    Toki Pythonissa on teoriassa kaikki eväät funktionaalisen koodin
    tuottamiseen, mutta silti pienet asiat tekevät asioista hankalia.
    Pythonin peruskirjastossa on vain pieni määrä funktioita listojen
    ja iteroitavien käsittelyyn; usein edellämainittuja kahta joutuu
    käsittelevään ankkatyypityksestä huolimatta erikseen ohjelmissa.
    Clojuren laiskat tietorakenteet käyttäytyvät pinnalla tasan
    samoin kuin kokonaan evaluoidut lajitoverinsa.
</p>
<p>
    Ankkatyypityksen jälkeen Python on muutenkin ulkoistanut loput
    abstraktioajattelunsa OOP:n harteille. Vaikka oliopohjainen
    paradigma onkin erinomainen työkalu abstrahointiin, ovat Haskellin
    ja Scalan <i>abstraktit tietotyypit</i> ja Clojuren vastaavat
    laajennukset protokollineen ja toteutuksineen pidemmällä kuin
    mihin OOP nätisti kykenee.
</p>
<p>
    Python ei huono kieli puutteellisesta funktionaalisuudestaan
    johtuen, vain huonompi kuin Clojure. Ja tämä minun mielipidettäni
    tietenkin!
</p></div>
</div>

</div><div id="disqus_thread"></div>

<script type="text/javascript">
    // :sb__ stuff is replaced in clojure
    var disqus_shortname = 'progim';
    var disqus_identifier = '20130518_2028';

    (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] ||
         document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a
href="http://disqus.com/?ref_noscript">comments powered by
Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by
<span class="logo-disqus">Disqus</span></a>
</div></body></html>