<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <script type="text/x-mathjax-config">
        /* Fix org-generated pictures to MathJX. Big thanks to Davide Cervone
          on StackOverflow with this. http://stackoverflow.com/a/14631703/308668
          */
        MathJax.Extension.myImg2jax = {
            version: "1.0",
            PreProcess: function (element) {
                var images = element.getElementsByTagName("img");
                for (var i = images.length - 1; i >= 0; i--) {
                    var img = images[i];
                    if (img.className === "dvipng") {
                        var script = document.createElement("script");
                        script.type = "math/tex";
                        var match = img.alt.match(/^(\$\$?)(.*)\1/);
                        if (match[1] === "$$") {script.type += ";mode=display"}
                        MathJax.HTML.setScript(script,match[2]);
                        img.parentNode.replaceChild(script,img);
                    }
                }
            }
        };
        MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.myImg2jax]);
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript">
    </script>
    <link href="/templates/main.css" media="screen" type="text/css" rel="stylesheet" />
  
  <title>Korkokertymiä — fwwm.us</title>
  <link />
</head>
  <body>
    <div id="backgrounds">
      <div id="header">
        <h1 id="site-title">fwwm.us</h1>
      </div>
      <div id="sidebar">
  <ul id="navigation" class="navi-list">
    <li><a href="/">Ylös</a></li>
    <li><a href="/all.html">Kaikki jutut</a></li>
    <!-- <li><a href=".">RSS</a></li> -->
  </ul>
  <ul class="info-list">
    <li>
      <div>
        <span class="value" id="post-created">07.07.2014</span>
        <span class="key">Luotu</span>
      </div>
    </li>
    <li>
      <div>
        <span class="value" id="post-modified">07.07.2014</span>
        <span class="key">Päivitetty</span>
      </div>
    </li>
    <li>
      <a href="https://github.com/progo/fwwmus---org/commits/main/miete/korkokertymae.org" id="post-revs-url">
        <span>Muutoshistoria</span>
      </a>
    </li>
  </ul>

  <h2>Tagit</h2>
  <ul id="tags" class="tag-list"><li class="tag-2"><a href="/tags/koodi.html" class="tag-name">koodi</a></li><li class="tag-2"><a href="/tags/python.html" class="tag-name">python</a></li><li class="tag-2"><a href="/tags/clojure.html" class="tag-name">clojure</a></li></ul>

  <h2 id="related-posts-title">Aiheen vierestä</h2>
  <ul id="related-posts">
    <li>
      <a href="/miete/pythonin-tehokkuus-komentorivilla.html" class="rp-url">
        <span class="rp-title">Pythonin käsittämätön tehokkuus komentorivisovelluksissa</span>
      </a>
    </li><li>
      <a href="/miete/python-vs-clojure.html" class="rp-url">
        <span class="rp-title">Python on huonompi kieli kuin Clojure</span>
      </a>
    </li><li>
      <a href="/miete/lisp-kirjat.html" class="rp-url">
        <span class="rp-title">Lisp-kirjoja</span>
      </a>
    </li><li>
      <a href="/miete/java-js-pelialustana.html" class="rp-url">
        <span class="rp-title">Java + JavaScript, paras pelialusta?</span>
      </a>
    </li><li>
      <a href="/miete/canto.html" class="rp-url">
        <span class="rp-title">Canto on uusi RSS-lukijani</span>
      </a>
    </li>
  </ul>
</div>
      <div id="main">
  <div id="content">
<h1 class="title">Korkokertymiä</h1>
<div class="outline-2" id="outline-container-sec-1">

<div id="text-1" class="outline-text-2">

<p>
Jos voittaisi lotossa yhden miljoonan, miten hyvin sillä eläisi
perushyvää elämää? Lyhyt vertailu Pythonin ja Clojuren välisistä
ratkaisumalleista.
</p>
</div>

<div class="outline-3" id="outline-container-sec-1-1">
<h3 id="sec-1-1">Alkuoletukset</h3>
<div id="text-1-1" class="outline-text-3">
<p>
Voitto <img class="dvipng" alt="$V$" src="ltxpng/korkokertymae_873cdb1243ca43c14500426ced374ee694bd2e27.png" /> on tasan miljoonan. Sopivilla rahastosijoituksilla tekee
annetulle sijoitukselle kahden prosentin vuosituoton (aika vähän,
koska inflaatio luultavasti jatkuu tulevaisuudessakin melko
korkealla).
</p>

<p>
Perushyvää elämää on aika maltillinen 2500 euroa kuukaudessa. Nettona
tuota tehdessä ainakin minä jäisin jo työelämästä pois.
</p>

<p>
Ja viimeisenä on hyvä huomata, että tämä laskentamalli on epätarkka.
Koko vuoden menoja ei yleensä varata vuoden alussa, vaan niitä syntyy
hiljalleen. Tästä syystä vuosia kertyy enemmän.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-2">
<h3 id="sec-1-2">Pythonilla</h3>
<div id="text-1-2" class="outline-text-3">
<p>
Pythonin ollessa imperatiivinen kieli, lähdin sillä huvikseni
laskemaan konkreettisia lukuja.
</p>

<div class="org-src-container">

<pre class="src src-python">In [2]: <span class="code-variable-name">vuosituotto</span> = 1.02
In [38]: <span class="code-variable-name">V</span> = 1e6

In [39]: <span class="code-variable-name">vuosia</span> = 0

In [40]: <span class="code-keyword">while</span> V &gt; 0:
   ....:     <span class="code-variable-name">V</span> = V - (2500*12) ; <span class="code-variable-name">V</span> = V * vuosituotto
   ....:     <span class="code-variable-name">vuosia</span> += 1
   ....:     

In [41]: vuosia
Out[41]: 54
</pre>
</div>

<p>
Semmoisen numeron sylkäisi ulos. Koska monirivisten lohkojen käsittely
sisennyssääntöjen takia on tympeätä Python-kuorissa (IPython käytössä
kuitenkin), siirryin kielten kieleen seuraavaksi.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-3">
<h3 id="sec-1-3">Clojurella</h3>
<div id="text-1-3" class="outline-text-3">
<p>
Tietysti osittain omaa tottumista ja muita seurauksia syyttäen tämä
tulos on huomattavasti dataorienteisempi oitis. Funktionaalinen
funktio <code>+year</code> ottaa alkupääoman ja palauttaa vuoden lopussa
tilin uuden saldon.
</p>

<div class="org-src-container">

<pre class="src src-clojure">user=&gt; (<span class="code-keyword">def</span> <span class="code-variable-name">V</span> 1e6)
#'<span class="code-type">user</span>/<span class="code-constant">V</span>
user=&gt; (<span class="code-keyword">def</span> <span class="code-variable-name">interest</span> 1.02)
#'<span class="code-type">user</span>/interest
user=&gt; (<span class="code-keyword">def</span> <span class="code-variable-name">monthly</span> 2500)
#'<span class="code-type">user</span>/monthly
user=&gt; (<span class="code-keyword">defn</span> <span class="code-function-name">+year</span> [v] (* (- v (* 12 monthly)) interest))
#'<span class="code-type">user</span>/+year
user=&gt; (+year <span class="code-constant">V</span>)
989400.0
user=&gt; (take-while pos? (iterate +year <span class="code-constant">V</span>))
(1000000.0 989400.0 978588.0 ...snip... 45826.06171246591 16142.582946715229)
user=&gt; (count <span class="code-builtin">*1</span>)
54
</pre>
</div>
</div>
</div>
</div>
</div>
  <hr />
  <div id="comments"><div id="disqus">
    <div id="disqus_thread"></div>

    <script type="text/javascript">
        var disqus_shortname = 'progim';
        var disqus_identifier = '20140707_1725';

        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] ||
            document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        <a href="http://disqus.com/?ref_noscript">Disqus</a> vaatii JavaScript-tuen
        toimiakseen.
    </noscript> 
    <a class="dsq-brlink" href="http://disqus.com">
        comments powered by <span class="logo-disqus">Disqus</span>
    </a>
</div></div>
</div>
      <div id="footer"></div>
    </div>
  </body>

</html>