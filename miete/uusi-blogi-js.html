<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <script type="text/x-mathjax-config">
        /* Fix org-generated pictures to MathJX. Big thanks to Davide Cervone
          on StackOverflow with this. http://stackoverflow.com/a/14631703/308668
          */
        MathJax.Extension.myImg2jax = {
            version: "1.0",
            PreProcess: function (element) {
                var images = element.getElementsByTagName("img");
                for (var i = images.length - 1; i >= 0; i--) {
                    var img = images[i];
                    if (img.className === "dvipng") {
                        var script = document.createElement("script");
                        script.type = "math/tex";
                        var match = img.alt.match(/^(\$\$?)(.*)\1/);
                        if (match[1] === "$$") {script.type += ";mode=display"}
                        MathJax.HTML.setScript(script,match[2]);
                        img.parentNode.replaceChild(script,img);
                    }
                }
            }
        };
        MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.myImg2jax]);
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript">
    </script>
    <link href="/templates/main.css" media="screen" type="text/css" rel="stylesheet" />
  
  <title>Uusi blogi käyttää JavaScriptiä — fwwm.us</title>
  <link />
</head>
  <body>
    <div id="backgrounds">
      <div id="header">
        <h1 id="site-title">fwwm.us</h1>
      </div>
      <div id="sidebar">
  <ul id="navigation" class="navi-list">
    <li><a href="/">Ylös</a></li>
    <li><a href="/all.html">Kaikki jutut</a></li>
    <!-- <li><a href=".">RSS</a></li> -->
  </ul>
  <ul class="info-list">
    <li>
      <div>
        <span class="value" id="post-created">09.02.2013</span>
        <span class="key">Luotu</span>
      </div>
    </li>
    <li>
      <div>
        <span class="value" id="post-modified">08.12.2013</span>
        <span class="key">Päivitetty</span>
      </div>
    </li>
    <li>
      <a href="https://github.com/progo/fwwmus---org/commits/master/miete/uusi-blogi-js.org" id="post-revs-url">
        <span>Muutoshistoria</span>
      </a>
    </li>
  </ul>

  <h2>Tagit</h2>
  <ul id="tags" class="tag-list"><li class="tag-1"><a href="/tags/blog.html" class="tag-name">blog</a></li><li class="tag-0"><a href="/tags/js.html" class="tag-name">js</a></li></ul>

  <h2 id="related-posts-title">Aiheen vierestä</h2>
  <ul id="related-posts">
    <li>
      <a href="/miete/uusi-blogi-on-out.html" class="rp-url">
        <span class="rp-title">Uusi blogi on nyt out live</span>
      </a>
    </li><li>
      <a href="/miete/canto.html" class="rp-url">
        <span class="rp-title">Canto on uusi RSS-lukijani</span>
      </a>
    </li><li>
      <a href="/miete/org8-hajottaa-blogin.html" class="rp-url">
        <span class="rp-title">org 8 hajottaa blogin</span>
      </a>
    </li><li>
      <a href="/miete/blogin-refaktorointia.html" class="rp-url">
        <span class="rp-title">Tämän blogin refaktorointia</span>
      </a>
    </li><li>
      <a href="/miete/puoli-vuotta-emacsia.html" class="rp-url">
        <span class="rp-title">Puoli vuotta Emacsia</span>
      </a>
    </li>
  </ul>
</div>
      <div id="main">
  <div id="content">
<h1 class="title">Uusi blogi käyttää JavaScriptiä</h1>
<div class="outline-2" id="outline-container-sec-1">

<div id="text-1" class="outline-text-2">

<p>
Uusi blogi se sitten tulee käyttämään muutamaa JavaScript-kirjastoa
apunaan, ja osa teistä lukijoista on varmasti tyrmistyneitä tästä
löydöstä. Olenhan aina ollut kovasti JS-sivustoja vastaan, ja hypin
jatkossakin seinille, jos jokin sivu vaatii JS:n aktivointia pelkän
sisällön lukemiseksi.
</p>

<p>
Javascriptillä tehdään nykyään aivan liikaa asioita. Jotkin
kirjastot, kuten Googlen webfontit tai LESS-CSS saavat näkemään
punaista, koska ne eivät aina tarjoa kunnollista fallbackia
kaikille muille selaimille. Vielä viisi vuotta sitten saattoi
käyttää mobiiliselainkortin, mutta nyt niissäkin perkeleissä on
kunnolliset JS-toteutukset.
</p>

<p>
Kaikkein vähintä, mitä rikasta ja dynaamista toiminnallisuutta
tuova JS-kirjasto voi tehdä, on tarjota toimintonsa
destruktiiviseen tyyliin. Ensin tuodaan puhdas HTML näytille,
<i>sitten</i> aktivoidaan ladattu JavaScript-kikkare ja se manipuloikoon
DOMia niin paljon kuin mielensä tekee. Ei mitään sellaista, että
HTML näyttää tyhjää sivua ilman JS-tukea.
</p>
</div>

<div class="outline-3" id="outline-container-sec-1-1">
<h3 id="sec-1-1">Mitä tämä blogi sitten tarvitsee?</h3>
<div id="text-1-1" class="outline-text-3">
<p>
Joskus on otettava käytännönläheinen asenne asioihin. Jotta voin
pitää blogirakenteen staattisena, pitää minun joko keksiä joitain
huonoja kommentointiratkaisuja tai hylätä kommentointi kokonaan
pois. <a href="http://disqus.com">Disqus</a> on ehdottomasti huonoista kommentointiratkaisuista
vähiten huono, ja se integroituu kivasti systeemiin. Disqus ei
edellytä mitään kamalaa JS:ttömiltä käyttäjiltä. Kommentointia ei
tosin tule tyhjästä, mutta en koe kommentointia niin oleellisena
asiana blogille, että asia huolettaisi. Enkä myöskään koe
joustavani liikaa periaatteistani. Sivustoa kyllä luetaan
jatkossakin ilman JS-tukea, sen voin taata.
</p>

<p>
Joskus JS tarjoaa ratkaisuja, joita ei yksinkertaisesti voi muuten
tehdä, vaikka olisi miten hienoa tekniikkaa takana. Tai, tietysti
aina voi, mutta olisi saman pyörän uudelleenrakentaminen
palvelinpuolelle likimain järjetön urakka. Puhun nyt suunnattoman
laajasta <a href="http://www.mathjax.org/">MathJax</a>-kirjastosta, joka tekee TeX-koodin
matikkaosuudesta aika lähelle täydellistä ladontaa. Edellinen blogi
käytti DVIPNG-menetelmää oikean LaTeX-systeemin käyttämiseksi,
mutta PNG-kuvat eivät ole ainakaan esteettisiä siellä seassa.
</p>

<p>
Systeemit olen saanut konfiguroitua siten, että org kirjoittaa
vanhanmalliset DVIPNG-kaavat blogiin, ja MathJax korvaa ne
png-kuvat dynaamisella koodilla päästyään vauhtiin. Näin olen
saanut tyydyttävän fallbackin aikaan tällekin ongelmalle.
</p>
</div>
</div>
<div class="outline-3" id="outline-container-sec-1-2">
<h3 id="sec-1-2">Loppuhuomioita</h3>
<div id="text-1-2" class="outline-text-3">
<p>
JavaScript ei ole läpeensä turha keksintö, mutta sitä käytetään
rikollisen paljon väärin ja tyhmästi. Dynaaminen sisältö ei
itsessään ole roskaa, mutta erityisesti Ajaxin tultua kuvioihin
sonta on vallannut maailman. Web-design ei ole entisensä. Toivon,
että nämä JS-ratkaisut omassa blogissani eivät asetu kenenkään
esteeksi, ja jos asettuvat, ilmoitathan minulle vaikka
sähköpostitse (oletushan on, että Disqus-lomaketta ei
js-rajoitteisille tähän alle ilmaannu) ja voimme katsoa asian
läpi.
</p>
</div>
</div>
</div>
</div>
  <hr />
  <div id="comments"><div id="disqus">
    <div id="disqus_thread"></div>

    <script type="text/javascript">
        var disqus_shortname = 'progim';
        var disqus_identifier = '20130209_1854';

        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] ||
            document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        <a href="http://disqus.com/?ref_noscript">Disqus</a> vaatii JavaScript-tuen
        toimiakseen.
    </noscript> 
    <a class="dsq-brlink" href="http://disqus.com">
        comments powered by <span class="logo-disqus">Disqus</span>
    </a>
</div></div>
</div>
      <div id="footer"></div>
    </div>
  </body>

</html>